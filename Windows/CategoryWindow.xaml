<Window x:Class="BudgetApp.Windows.CategoryWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="Ð£Ð¿Ñ€Ð°Ð²Ð»ÐµÐ½Ð¸Ðµ ÐºÐ°Ñ‚ÐµÐ³Ð¾Ñ€Ð¸ÑÐ¼Ð¸" Height="600" Width="800"
        WindowStartupLocation="CenterOwner">
    <Grid Margin="20">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>

        <!-- Ð—Ð°Ð³Ð¾Ð»Ð¾Ð²Ð¾Ðº Ð¸ ÐºÐ½Ð¾Ð¿ÐºÐ¸ -->
        <StackPanel Grid.Row="0" Orientation="Horizontal" Margin="0,0,0,15">
            <TextBlock Text="ÐšÐ°Ñ‚ÐµÐ³Ð¾Ñ€Ð¸Ð¸" FontSize="24" FontWeight="Bold" VerticalAlignment="Center" Margin="0,0,20,0"/>
            <Button Content="+ Ð”Ð¾Ð±Ð°Ð²Ð¸Ñ‚ÑŒ ÐºÐ°Ñ‚ÐµÐ³Ð¾Ñ€Ð¸ÑŽ" Click="AddCategory_Click" 
                    Background="#4ECDC4" Foreground="White" FontWeight="Bold"/>
            <ComboBox x:Name="TypeFilterComboBox" Width="150" SelectionChanged="TypeFilterComboBox_SelectionChanged" Margin="10,0,0,0">
                <ComboBoxItem Content="Ð’ÑÐµ" Tag="All" IsSelected="True"/>
                <ComboBoxItem Content="Ð”Ð¾Ñ…Ð¾Ð´Ñ‹" Tag="Income"/>
                <ComboBoxItem Content="Ð Ð°ÑÑ…Ð¾Ð´Ñ‹" Tag="Expense"/>
            </ComboBox>
        </StackPanel>

        <!-- Ð¡Ð¿Ð¸ÑÐ¾Ðº ÐºÐ°Ñ‚ÐµÐ³Ð¾Ñ€Ð¸Ð¹ -->
        <DataGrid x:Name="CategoriesGrid" Grid.Row="1" 
                  AutoGenerateColumns="False" 
                  CanUserAddRows="False"
                  SelectionMode="Single"
                  GridLinesVisibility="Horizontal"
                  HeadersVisibility="Column"
                  Margin="0,0,0,10">
            <DataGrid.Columns>
                <DataGridTextColumn Header="ÐÐ°Ð·Ð²Ð°Ð½Ð¸Ðµ" Binding="{Binding Name}" Width="*"/>
                <DataGridTextColumn Header="Ð¢Ð¸Ð¿" Binding="{Binding Type}" Width="120">
                    <DataGridTextColumn.ElementStyle>
                        <Style TargetType="TextBlock">
                            <Style.Triggers>
                                <DataTrigger Binding="{Binding Type}" Value="Income">
                                    <Setter Property="Foreground" Value="#4ECDC4"/>
                                    <Setter Property="Text" Value="Ð”Ð¾Ñ…Ð¾Ð´"/>
                                </DataTrigger>
                                <DataTrigger Binding="{Binding Type}" Value="Expense">
                                    <Setter Property="Foreground" Value="#FF6B6B"/>
                                    <Setter Property="Text" Value="Ð Ð°ÑÑ…Ð¾Ð´"/>
                                </DataTrigger>
                            </Style.Triggers>
                            <Setter Property="FontWeight" Value="Bold"/>
                        </Style>
                    </DataGridTextColumn.ElementStyle>
                </DataGridTextColumn>
                <DataGridTemplateColumn Header="Ð¦Ð²ÐµÑ‚" Width="100">
                    <DataGridTemplateColumn.CellTemplate>
                        <DataTemplate>
                            <Rectangle Width="30" Height="20" Fill="{Binding Color}" Stroke="#E0E0E0" StrokeThickness="1"/>
                        </DataTemplate>
                    </DataGridTemplateColumn.CellTemplate>
                </DataGridTemplateColumn>
                <DataGridTemplateColumn Header="Ð”ÐµÐ¹ÑÑ‚Ð²Ð¸Ñ" Width="150">
                    <DataGridTemplateColumn.CellTemplate>
                        <DataTemplate>
                            <StackPanel Orientation="Horizontal">
                                <Button Content="âœï¸" Click="EditCategory_Click" 
                                        Tag="{Binding}" Background="Transparent" BorderThickness="0" Padding="5"/>
                                <Button Content="ðŸ—‘ï¸" Click="DeleteCategory_Click" 
                                        Tag="{Binding}" Background="Transparent" BorderThickness="0" Padding="5"/>
                            </StackPanel>
                        </DataTemplate>
                    </DataGridTemplateColumn.CellTemplate>
                </DataGridTemplateColumn>
            </DataGrid.Columns>
        </DataGrid>

        <!-- ÐšÐ½Ð¾Ð¿ÐºÐ° Ð·Ð°ÐºÑ€Ñ‹Ñ‚Ð¸Ñ -->
        <Button Grid.Row="2" Content="Ð—Ð°ÐºÑ€Ñ‹Ñ‚ÑŒ" Click="Close_Click" 
                HorizontalAlignment="Right" Width="100" Background="#95A5A6" Foreground="White"/>
    </Grid>
</Window>

